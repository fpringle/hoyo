<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Hoyo.CLI.Parse</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">hoyo-0.5.1.0: Bookmark directories for cd</span><ul class="links" id="page-menu"><li><a href="src/Hoyo.CLI.Parse.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Frederick Pringle 2023</td></tr><tr><th>License</th><td>BSD-3-Clause</td></tr><tr><th>Maintainer</th><td>freddyjepringle@gmail.com</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Hoyo.CLI.Parse</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Parsing CLI arguments and options</a></li><li><a href="#g:2">Parsing specific CLI commands</a><ul><li><a href="#g:3">Parsing sub-commands for hoyo config</a></li></ul></li><li><a href="#g:4">Misc/Utility</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Parse CLI arguments.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:options">options</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:ParserInfo" title="Options.Applicative.Types">ParserInfo</a> <a href="Hoyo-Internal-Types.html#t:Options" title="Hoyo.Internal.Types">Options</a></li><li class="src short"><a href="#v:parseOptions">parseOptions</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Options" title="Hoyo.Internal.Types">Options</a></li><li class="src short"><a href="#v:parseCommand">parseCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a></li><li class="src short"><a href="#v:globalOptions">globalOptions</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:GlobalOptions" title="Hoyo.Internal.Types">GlobalOptions</a></li><li class="src short"><a href="#v:overrideOptions">overrideOptions</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:OverrideOptions" title="Hoyo.Internal.Types">OverrideOptions</a></li><li class="src short"><a href="#v:addCommand">addCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a></li><li class="src short"><a href="#v:moveCommand">moveCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a></li><li class="src short"><a href="#v:listCommand">listCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a></li><li class="src short"><a href="#v:clearCommand">clearCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a></li><li class="src short"><a href="#v:deleteCommand">deleteCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a></li><li class="src short"><a href="#v:checkCommand">checkCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a></li><li class="src short"><a href="#v:defaultCommand">defaultCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a></li><li class="src short"><a href="#v:configCommand">configCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a></li><li class="src short"><a href="#v:configPrintCommand">configPrintCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:ConfigCommand" title="Hoyo.Internal.Types">ConfigCommand</a></li><li class="src short"><a href="#v:configResetCommand">configResetCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:ConfigCommand" title="Hoyo.Internal.Types">ConfigCommand</a></li><li class="src short"><a href="#v:configSetCommand">configSetCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:ConfigCommand" title="Hoyo.Internal.Types">ConfigCommand</a></li><li class="src short"><a href="#v:configAddDefaultCommand">configAddDefaultCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:ConfigCommand" title="Hoyo.Internal.Types">ConfigCommand</a></li><li class="src short"><a href="#v:splitArgs">splitArgs</a> :: <a href="https://hackage.haskell.org/package/text-1.2.4.1/docs/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; [<a href="https://hackage.haskell.org/package/base-4.14.3.0/docs/Data-String.html#t:String" title="Data.String">String</a>]</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Parsing CLI arguments and options</h1></a><div class="top"><p class="src"><a id="v:options" class="def">options</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:ParserInfo" title="Options.Applicative.Types">ParserInfo</a> <a href="Hoyo-Internal-Types.html#t:Options" title="Hoyo.Internal.Types">Options</a> <a href="src/Hoyo.Internal.Parse.html#options" class="link">Source</a> <a href="#v:options" class="selflink">#</a></p><div class="doc"><p>A <code><a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:ParserInfo" title="Options.Applicative.Types">ParserInfo</a></code> object containing the necessary information for parsing
 CLI commands and arguments, and displaying useful help text.</p></div></div><div class="top"><p class="src"><a id="v:parseOptions" class="def">parseOptions</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Options" title="Hoyo.Internal.Types">Options</a> <a href="src/Hoyo.Internal.Parse.html#parseOptions" class="link">Source</a> <a href="#v:parseOptions" class="selflink">#</a></p><div class="doc"><p>Parse an <code><a href="Hoyo-Internal-Types.html#t:Options" title="Hoyo.Internal.Types">Options</a></code> argument, which includes the command
 to run and any global options.</p></div></div><div class="top"><p class="src"><a id="v:parseCommand" class="def">parseCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a> <a href="src/Hoyo.Internal.Parse.html#parseCommand" class="link">Source</a> <a href="#v:parseCommand" class="selflink">#</a></p><div class="doc"><p>Parse a command and the arguments/options for that
 command from the command-line arguments.</p></div></div><div class="top"><p class="src"><a id="v:globalOptions" class="def">globalOptions</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:GlobalOptions" title="Hoyo.Internal.Types">GlobalOptions</a> <a href="src/Hoyo.Internal.Parse.html#globalOptions" class="link">Source</a> <a href="#v:globalOptions" class="selflink">#</a></p><div class="doc"><p>Parse global options: options that can be set on the command line
 no matter what sub-command is being run.</p><p>For a complete list of the global options, see <code><a href="Hoyo-Internal-Types.html#t:GlobalOptions" title="Hoyo.Internal.Types">GlobalOptions</a></code> or
 run <code>hoyo --help</code>.</p></div></div><div class="top"><p class="src"><a id="v:overrideOptions" class="def">overrideOptions</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:OverrideOptions" title="Hoyo.Internal.Types">OverrideOptions</a> <a href="src/Hoyo.Internal.Parse.html#overrideOptions" class="link">Source</a> <a href="#v:overrideOptions" class="selflink">#</a></p><div class="doc"><p>Parse override options: options that override config settings.
 This can be useful when you want to temporarily enable functionality
 for one CLI run, but don't want to change it in the config file.</p></div></div><a href="#g:2" id="g:2"><h1>Parsing specific CLI commands</h1></a><div class="top"><p class="src"><a id="v:addCommand" class="def">addCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a> <a href="src/Hoyo.Internal.Parse.html#addCommand" class="link">Source</a> <a href="#v:addCommand" class="selflink">#</a></p><div class="doc"><p>Parse options for the <code>hoyo add</code> command.</p></div></div><div class="top"><p class="src"><a id="v:moveCommand" class="def">moveCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a> <a href="src/Hoyo.Internal.Parse.html#moveCommand" class="link">Source</a> <a href="#v:moveCommand" class="selflink">#</a></p><div class="doc"><p>Parse options for the <code>hoyo move</code> command.</p></div></div><div class="top"><p class="src"><a id="v:listCommand" class="def">listCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a> <a href="src/Hoyo.Internal.Parse.html#listCommand" class="link">Source</a> <a href="#v:listCommand" class="selflink">#</a></p><div class="doc"><p>Parse options for the <code>hoyo list</code> command.</p></div></div><div class="top"><p class="src"><a id="v:clearCommand" class="def">clearCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a> <a href="src/Hoyo.Internal.Parse.html#clearCommand" class="link">Source</a> <a href="#v:clearCommand" class="selflink">#</a></p><div class="doc"><p>Parse options for the <code>hoyo clear</code> command.</p></div></div><div class="top"><p class="src"><a id="v:deleteCommand" class="def">deleteCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a> <a href="src/Hoyo.Internal.Parse.html#deleteCommand" class="link">Source</a> <a href="#v:deleteCommand" class="selflink">#</a></p><div class="doc"><p>Parse options for the <code>hoyo delete</code> command.</p></div></div><div class="top"><p class="src"><a id="v:checkCommand" class="def">checkCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a> <a href="src/Hoyo.Internal.Parse.html#checkCommand" class="link">Source</a> <a href="#v:checkCommand" class="selflink">#</a></p><div class="doc"><p>Parse options for the <code>hoyo check</code> command.</p></div></div><div class="top"><p class="src"><a id="v:defaultCommand" class="def">defaultCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a> <a href="src/Hoyo.Internal.Parse.html#defaultCommand" class="link">Source</a> <a href="#v:defaultCommand" class="selflink">#</a></p><div class="doc"><p>If hoyo is run with no arguments, we run the &quot;default command&quot; if it's set.</p></div></div><a href="#g:3" id="g:3"><h2>Parsing sub-commands for hoyo config</h2></a><div class="top"><p class="src"><a id="v:configCommand" class="def">configCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:Command" title="Hoyo.Internal.Types">Command</a> <a href="src/Hoyo.Internal.Parse.html#configCommand" class="link">Source</a> <a href="#v:configCommand" class="selflink">#</a></p><div class="doc"><p>Parse options for the <code>hoyo config</code> command.</p></div></div><div class="top"><p class="src"><a id="v:configPrintCommand" class="def">configPrintCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:ConfigCommand" title="Hoyo.Internal.Types">ConfigCommand</a> <a href="src/Hoyo.Internal.Parse.html#configPrintCommand" class="link">Source</a> <a href="#v:configPrintCommand" class="selflink">#</a></p><div class="doc"><p>Parse options for the <code>hoyo config print</code> sub-command.</p></div></div><div class="top"><p class="src"><a id="v:configResetCommand" class="def">configResetCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:ConfigCommand" title="Hoyo.Internal.Types">ConfigCommand</a> <a href="src/Hoyo.Internal.Parse.html#configResetCommand" class="link">Source</a> <a href="#v:configResetCommand" class="selflink">#</a></p><div class="doc"><p>Parse options for the <code>hoyo config reset</code> sub-command.</p></div></div><div class="top"><p class="src"><a id="v:configSetCommand" class="def">configSetCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:ConfigCommand" title="Hoyo.Internal.Types">ConfigCommand</a> <a href="src/Hoyo.Internal.Parse.html#configSetCommand" class="link">Source</a> <a href="#v:configSetCommand" class="selflink">#</a></p><div class="doc"><p>Parse options for the <code>hoyo config set</code> sub-command.</p></div></div><div class="top"><p class="src"><a id="v:configAddDefaultCommand" class="def">configAddDefaultCommand</a> :: <a href="https://hackage.haskell.org/package/optparse-applicative-0.17.0.0/docs/Options-Applicative-Types.html#t:Parser" title="Options.Applicative.Types">Parser</a> <a href="Hoyo-Internal-Types.html#t:ConfigCommand" title="Hoyo.Internal.Types">ConfigCommand</a> <a href="src/Hoyo.Internal.Parse.html#configAddDefaultCommand" class="link">Source</a> <a href="#v:configAddDefaultCommand" class="selflink">#</a></p><div class="doc"><p>Parse options for the <code>hoyo config add-default</code> sub-command.</p></div></div><a href="#g:4" id="g:4"><h1>Misc/Utility</h1></a><div class="top"><p class="src"><a id="v:splitArgs" class="def">splitArgs</a> :: <a href="https://hackage.haskell.org/package/text-1.2.4.1/docs/Data-Text.html#t:Text" title="Data.Text">Text</a> -&gt; [<a href="https://hackage.haskell.org/package/base-4.14.3.0/docs/Data-String.html#t:String" title="Data.String">String</a>] <a href="src/Hoyo.Internal.Parse.html#splitArgs" class="link">Source</a> <a href="#v:splitArgs" class="selflink">#</a></p><div class="doc"><p>Split a string into arguments as they would be interpreted on the command line.</p><p>Adapted from <a href="https://stackoverflow.com/a/64236441">this StackOverflow comment</a>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>